(function(e){var c=e.fn.remove;e.fn.remove=function(){e("*",this).add(this).each(function(){e(this).triggerHandler("remove")});return c.apply(this,arguments)};function b(f){function h(i){var j=i.style;return(j.display!="none"&&j.visibility!="hidden")}var g=h(f);(g&&e.each(e.dir(f,"parentNode"),function(){return(g=h(this))}));return g}e.extend(e.expr[":"],{data:function(g,h,f){return e.data(g,f[3])},tabbable:function(g,h,f){var j=g.nodeName.toLowerCase();return(g.tabIndex>=0&&(("a"==j&&g.href)||(/input|select|textarea|button/.test(j)&&"hidden"!=g.type&&!g.disabled))&&b(g))}});e.keyCode={BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38};var d=e.browser.mozilla&&(parseFloat(e.browser.version)<1.9);e.fn.extend({ariaRole:function(f){return(f!==undefined?this.attr("role",d?"wairole:"+f:f):(this.attr("role")||"").replace(/^wairole:/,""))},ariaState:function(g,f){return(f!==undefined?this.each(function(h,j){(d?j.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+g,f):e(j).attr("aria-"+g,f))}):this.attr(d?"aaa:"+g:"aria-"+g))}});function a(i,j,k,h){function g(m){var l=e[i][j][m]||[];return(typeof l=="string"?l.split(/,?\s+/):l)}var f=g("getter");if(h.length==1&&typeof h[0]=="string"){f=f.concat(g("getterSetter"))}return(e.inArray(k,f)!=-1)}e.widget=function(g,f){var h=g.split(".")[0];g=g.split(".")[1];e.fn[g]=function(l){var j=(typeof l=="string"),k=Array.prototype.slice.call(arguments,1);if(j&&l.substring(0,1)=="_"){return this}if(j&&a(h,g,l,k)){var i=e.data(this[0],g);return(i?i[l].apply(i,k):undefined)}return this.each(function(){var m=e.data(this,g);(!m&&!j&&e.data(this,g,new e[h][g](this,l)));(m&&j&&e.isFunction(m[l])&&m[l].apply(m,k))})};e[h]=e[h]||{};e[h][g]=function(k,j){var i=this;this.widgetName=g;this.widgetEventPrefix=e[h][g].eventPrefix||g;this.widgetBaseClass=h+"-"+g;this.options=e.extend({},e.widget.defaults,e[h][g].defaults,e.metadata&&e.metadata.get(k)[g],j);this.element=e(k).bind("setData."+g,function(n,l,m){return i._setData(l,m)}).bind("getData."+g,function(m,l){return i._getData(l)}).bind("remove",function(){return i.destroy()});this._init()};e[h][g].prototype=e.extend({},e.widget.prototype,f);e[h][g].getterSetter="option"};e.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName)},option:function(h,i){var g=h,f=this;if(typeof h=="string"){if(i===undefined){return this._getData(h)}g={};g[h]=i}e.each(g,function(j,k){f._setData(j,k)})},_getData:function(f){return this.options[f]},_setData:function(f,g){this.options[f]=g;if(f=="disabled"){this.element[g?"addClass":"removeClass"](this.widgetBaseClass+"-disabled")}},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(g,i,h){var f=(g==this.widgetEventPrefix?g:this.widgetEventPrefix+g);i=i||e.event.fix({type:f,target:this.element[0]});return this.element.triggerHandler(f,[i,h],this.options[g])}};e.widget.defaults={disabled:false};e.ui={plugin:{add:function(g,h,k){var j=e.ui[g].prototype;for(var f in k){j.plugins[f]=j.plugins[f]||[];j.plugins[f].push([h,k[f]])}},call:function(f,h,g){var k=f.plugins[h];if(!k){return}for(var j=0;j<k.length;j++){if(f.options[k[j][0]]){k[j][1].apply(f.element,g)}}}},cssCache:{},css:function(f){if(e.ui.cssCache[f]){return e.ui.cssCache[f]}var g=e('<div class="ui-gen">').addClass(f).css({position:"absolute",top:"-5000px",left:"-5000px",display:"block"}).appendTo("body");e.ui.cssCache[f]=!!((!(/auto|default/).test(g.css("cursor"))||(/^[1-9]/).test(g.css("height"))||(/^[1-9]/).test(g.css("width"))||!(/none/).test(g.css("backgroundImage"))||!(/transparent|rgba\(0, 0, 0, 0\)/).test(g.css("backgroundColor"))));try{e("body").get(0).removeChild(g.get(0))}catch(h){}return e.ui.cssCache[f]},disableSelection:function(f){return e(f).attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},enableSelection:function(f){return e(f).attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},hasScroll:function(i,g){if(e(i).css("overflow")=="hidden"){return false}var f=(g&&g=="left")?"scrollLeft":"scrollTop",h=false;if(i[f]>0){return true}i[f]=1;h=(i[f]>0);i[f]=0;return h}};e.ui.mouse={_mouseInit:function(){var f=this;this.element.bind("mousedown."+this.widgetName,function(g){return f._mouseDown(g)});if(e.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(e.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable))},_mouseDown:function(h){(this._mouseStarted&&this._mouseUp(h));this._mouseDownEvent=h;var g=this,i=(h.which==1),f=(typeof this.options.cancel=="string"?e(h.target).parents().add(h.target).filter(this.options.cancel).length:false);if(!i||f||!this._mouseCapture(h)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(h)&&this._mouseDelayMet(h)){this._mouseStarted=(this._mouseStart(h)!==false);if(!this._mouseStarted){h.preventDefault();return true}}this._mouseMoveDelegate=function(j){return g._mouseMove(j)};this._mouseUpDelegate=function(j){return g._mouseUp(j)};e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);return false},_mouseMove:function(f){if(e.browser.msie&&!f.button){return this._mouseUp(f)}if(this._mouseStarted){this._mouseDrag(f);return false}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,f)!==false);(this._mouseStarted?this._mouseDrag(f):this._mouseUp(f))}return !this._mouseStarted},_mouseUp:function(f){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._mouseStop(f)}return false},_mouseDistanceMet:function(f){return(Math.max(Math.abs(this._mouseDownEvent.pageX-f.pageX),Math.abs(this._mouseDownEvent.pageY-f.pageY))>=this.options.distance)},_mouseDelayMet:function(f){return this.mouseDelayMet},_mouseStart:function(f){},_mouseDrag:function(f){},_mouseStop:function(f){},_mouseCapture:function(f){return true}};e.ui.mouse.defaults={cancel:null,distance:1,delay:0}})(jQuery);(function(a){a.widget("ui.spinner",{_init:function(){this._trigger("init",null,this.ui(null));if(typeof this.options.items[0]=="object"&&!this.element.is("input")){var f=this.options.items;for(var d=0;d<f.length;d++){this._addItem(f[d])}}this._decimals=parseInt(this.options.decimals,10);if(this.options.stepping.toString().indexOf(".")!=-1){var e=this.options.stepping.toString();this._decimals=e.slice(e.indexOf(".")+1,e.length).length}var c=this;this.element.addClass("ui-spinner-box").attr("autocomplete","off");this._setValue(isNaN(this._getValue())?this.options.start:this._getValue());this.element.wrap("<div>").parent().addClass("ui-spinner").append('<button class="ui-spinner-up" type="button"></button>').find(".ui-spinner-up").bind("mousedown",function(g){a(this).addClass("ui-spinner-pressed");if(!c.counter){c.counter=1}c._mousedown(100,"_up",g)}).bind("mouseup",function(g){a(this).removeClass("ui-spinner-pressed");if(c.counter==1){c._up(g)}c._mouseup(g)}).bind("mouseout",function(g){a(this).removeClass("ui-spinner-pressed");if(c.timer){c._mouseup(g)}}).bind("dblclick",function(g){a(this).removeClass("ui-spinner-pressed");c._up(g);c._mouseup(g)}).bind("keydown.spinner",function(h){var g=a.keyCode;if(h.keyCode==g.SPACE||h.keyCode==g.ENTER){a(this).addClass("ui-spinner-pressed");if(!c.counter){c.counter=1}c._up.call(c,h)}else{if(h.keyCode==g.DOWN||h.keyCode==g.RIGHT){c.element.siblings(".ui-spinner-down").focus()}else{if(h.keyCode==g.LEFT){c.element.focus()}}}}).bind("keyup.spinner",function(g){a(this).removeClass("ui-spinner-pressed");c.counter=0;c._propagate("change",g)}).end().append('<button class="ui-spinner-down" type="button"></button>').find(".ui-spinner-down").bind("mousedown",function(g){a(this).addClass("ui-spinner-pressed");if(!c.counter){c.counter=1}c._mousedown(100,"_down",g)}).bind("mouseup",function(g){a(this).removeClass("ui-spinner-pressed");if(c.counter==1){c._down()}c._mouseup(g)}).bind("mouseout",function(g){a(this).removeClass("ui-spinner-pressed");if(c.timer){c._mouseup(g)}}).bind("dblclick",function(g){a(this).removeClass("ui-spinner-pressed");c._down(g);c._mouseup(g)}).bind("keydown.spinner",function(h){var g=a.keyCode;if(h.keyCode==g.SPACE||h.keyCode==g.ENTER){a(this).addClass("ui-spinner-pressed");if(!c.counter){c.counter=1}c._down.call(c,h)}else{if(h.keyCode==g.UP||h.keyCode==g.LEFT){c.element.siblings(".ui-spinner-up").focus()}}}).bind("keyup.spinner",function(g){a(this).removeClass("ui-spinner-pressed");c.counter=0;c._propagate("change",g)}).end();this._items=this.element.children().length;if(this._items>1){var b=this.element.outerHeight()/this._items;this.element.addClass("ui-spinner-list").height(b).children().addClass("ui-spinner-listitem").height(b).css("overflow","hidden").end().parent().height(b).end();this.options.stepping=1;this.options.min=0;this.options.max=this._items-1}this.element.bind("keydown.spinner",function(g){if(!c.counter){c.counter=1}return c._keydown.call(c,g)}).bind("keyup.spinner",function(g){c.counter=0;c._propagate("change",g)}).bind("blur.spinner",function(g){c._cleanUp()});if(a.fn.mousewheel){this.element.mousewheel(function(g,h){c._mousewheel(g,h)})}},_constrain:function(){if(this.options.min!=undefined&&this._getValue()<this.options.min){this._setValue(this.options.min)}if(this.options.max!=undefined&&this._getValue()>this.options.max){this._setValue(this.options.max)}},_cleanUp:function(){this._setValue(this._getValue());this._constrain()},_spin:function(c,b){if(this.disabled){return}if(isNaN(this._getValue())){this._setValue(this.options.start)}this._setValue(this._getValue()+(c=="up"?1:-1)*(this.options.incremental&&this.counter>100?(this.counter>200?100:10):1)*this.options.stepping);this._animate(c);this._constrain();if(this.counter){this.counter++}this._propagate("spin",b)},_down:function(b){this._spin("down",b);this._propagate("down",b)},_up:function(b){this._spin("up",b);this._propagate("up",b)},_mousedown:function(c,g,f){var b=this;c=c||100;if(this.timer){window.clearInterval(this.timer);this.timer=0}this.timer=window.setInterval(function(){b[g](f);if(b.counter>20){b._mousedown(20,g,f)}},c)},_mouseup:function(b){this.counter=0;if(this.timer){window.clearInterval(this.timer);this.timer=0}this.element[0].focus();this._propagate("change",b)},_keydown:function(c){var b=a.keyCode;if(c.keyCode==b.UP){this._up(c)}if(c.keyCode==b.DOWN){this._down(c)}if(c.keyCode==b.HOME){this._setValue(this.options.min||this.options.start)}if(c.keyCode==b.END&&this.options.max!=undefined){this._setValue(this.options.max)}return(c.keyCode==b.TAB||c.keyCode==b.BACKSPACE||c.keyCode==b.LEFT||c.keyCode==b.RIGHT||c.keyCode==b.PERIOD||c.keyCode==b.NUMPAD_DECIMAL||c.keyCode==b.NUMPAD_SUBTRACT||(c.keyCode>=96&&c.keyCode<=105)||(/[0-9\-\.]/).test(String.fromCharCode(c.keyCode)))?true:false},_mousewheel:function(c,d){var b=this;d=(a.browser.opera?-d/Math.abs(d):d);(d>0?b._up(c):b._down(c));if(b.timeout){window.clearTimeout(b.timeout);b.timeout=0}b.timeout=window.setTimeout(function(){b._propagate("change",c)},400);c.preventDefault()},_getValue:function(){return parseFloat(this.element.val().replace(/[^0-9\-\.]/g,""))},_setValue:function(b){if(isNaN(b)){b=this.options.start}this.element.val(this.options.currency?a.ui.spinner.format.currency(b,this.options.currency):a.ui.spinner.format.number(b,this._decimals))},_animate:function(b){if(this.element.hasClass("ui-spinner-list")&&((b=="up"&&this._getValue()<=this.options.max)||(b=="down"&&this._getValue()>=this.options.min))){this.element.animate({marginTop:"-"+this._getValue()*this.element.parent().height()},{duration:"fast",queue:false})}},_addItem:function(e,b){if(!this.element.is("input")){var f="div";if(this.element.is("ol")||this.element.is("ul")){f="li"}var c=e;if(typeof e=="object"){var d=(b!==undefined?b:this.options.format);c=d.replace(/%(\(([^)]+)\))?/g,(function(g){return function(i,h,j){if(!j){for(var k in g){return g[k]}}else{return g[j]}}})(e))}this.element.append("<"+f+' class="ui-spinner-data">'+c+"</"+f+">")}},plugins:{},ui:function(b){return{options:this.options,element:this.element,value:this._getValue(),add:this._addItem}},_propagate:function(c,b){a.ui.plugin.call(this,c,[b,this.ui()]);return this.element.triggerHandler(c=="spin"?c:"spin"+c,[b,this.ui()],this.options[c])},destroy:function(){if(!a.data(this.element[0],"spinner")){return}if(a.fn.mousewheel){this.element.unmousewheel()}this.element.removeClass("ui-spinner-box ui-spinner-list").removeAttr("disabled").removeAttr("autocomplete").removeData("spinner").unbind(".spinner").siblings().remove().end().children().removeClass("ui-spinner-listitem").remove(".ui-spinner-data").end().parent().removeClass("ui-spinner ui-spinner-disabled").before(this.element.clone()).remove().end()},enable:function(){this.element.removeAttr("disabled").siblings().removeAttr("disabled").parent().removeClass("ui-spinner-disabled");this.disabled=false},disable:function(){this.element.attr("disabled",true).siblings().attr("disabled",true).parent().addClass("ui-spinner-disabled");this.disabled=true}});a.extend(a.ui.spinner,{defaults:{decimals:0,stepping:1,start:0,incremental:true,currency:false,format:"%",items:[]},format:{currency:function(c,b){c=isNaN(c)?0:c;return(c!==Math.abs(c)?"-":"")+b+this.number(Math.abs(c),2)},number:function(b,d){var c=/(\d+)(\d{3})/;for(b=isNaN(b)?0:parseFloat(b,10).toFixed(d);c.test(b);b=b.replace(c,"$1,$2")){}return b}}})})(jQuery);